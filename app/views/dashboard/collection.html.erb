<%# TODO: Add spec for request %>

<%= render SectionComponent.new do %>
  <%= render PageTitleComponent.new(text: "Collection") %>
<% end %>

<%= render SectionComponent.new do %>
  <%= paginate @collection %>
  <% @collection_grouped.each_pair do |day, items| %>
    <div class="my-6">
      <p class="my-4 text-2xl font-bold"><%= day %></p>
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
        <% items.each do |itm| %>
          <%= render ResourceTileControlComponent.new(issue: itm.issue, user: current_user, read_at: nil) %>
        <% end %>
      </div>
    </div>
  <% end %>
  <%= paginate @collection %>
<% end %>
